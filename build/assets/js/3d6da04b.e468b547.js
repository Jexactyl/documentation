"use strict";(self.webpackChunkjexactyl_documentation=self.webpackChunkjexactyl_documentation||[]).push([[359],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(t),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return t?a.createElement(h,i(i({ref:n},c),{},{components:t})):a.createElement(h,i({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4005:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var a=t(7462),r=t(3366),o=(t(7294),t(3905)),i=["components"],l={sidebar_position:4},s="Environment Setup",p={unversionedId:"panel/install/environment-setup",id:"panel/install/environment-setup",title:"Environment Setup",description:"*",source:"@site/docs/panel/install/environment-setup.md",sourceDirName:"panel/install",slug:"/panel/install/environment-setup",permalink:"/docs/panel/install/environment-setup",editUrl:"https://github.com/jexactyl/documentation/edit/main/docs/panel/install/environment-setup.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"MySQL Setup",permalink:"/docs/panel/install/mysql"},next:{title:"Queue Workers",permalink:"/docs/panel/install/queue-workers"}},c=[{value:"Configuration Files",id:"configuration-files",children:[],level:2},{value:"Depdendency installation",id:"depdendency-installation",children:[],level:2},{value:"Environment Configuration",id:"environment-configuration",children:[],level:2},{value:"Database Setup",id:"database-setup",children:[],level:2},{value:"Add admin user",id:"add-admin-user",children:[],level:2},{value:"Webserver Permissions",id:"webserver-permissions",children:[],level:2}],u={toc:c};function d(e){var n=e.components,t=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"environment-setup"},"Environment Setup"),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"configuration-files"},"Configuration Files"),(0,o.kt)("p",null,"We'll need to start by copying over the default settings file, called ",(0,o.kt)("inlineCode",{parentName:"p"},".env.example"),". We'll want\nthis to be called ",(0,o.kt)("inlineCode",{parentName:"p"},".env"),", so it's just a case of copying the file over in order to set up the Panel\nhow you want it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cp .env.example .env\n")),(0,o.kt)("p",null,"However, if you want to make changes to the file, you'll have to rebuild the panel.\nDocumentation for how to build Jexactyl can be found in the Modifications category."),(0,o.kt)("h2",{id:"depdendency-installation"},"Depdendency installation"),(0,o.kt)("p",null,"After this, we'll need to install Composer dependencies - which will allow the PHP code in our project\n(such as the backend and admin-side) to run properly."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"composer install --no-dev --optimize-autoloader\n")),(0,o.kt)("p",null,"Finally, we'll generate a random token which will be the encryption/app key for our project."),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"BE CAREFUL!")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This encryption key is used to store important data (such as API keys).\nDo NOT share this key with anyone - protect it like a password.\nIf you lose this key, all data is impossible to recover."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"php artisan key:generate --force\n")),(0,o.kt)("h2",{id:"environment-configuration"},"Environment Configuration"),(0,o.kt)("p",null,"Jexactyl uses CLI commands to configure most of the base settings of the Panel.\nThe following will allow you to set up general, database and mail settings."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"php artisan p:environment:setup\nphp artisan p:environment:database\nphp artisan p:environment:mail # Not required to run the Panel.\n")),(0,o.kt)("h2",{id:"database-setup"},"Database Setup"),(0,o.kt)("p",null,"Now we need to setup all of the base data for the Panel in the database you created earlier. The command below may take some time to run depending on your machine. Please ",(0,o.kt)("strong",{parentName:"p"},"DO NOT exit the process")," until it is completed! This command will setup the database tables and then add all of the Nests & Eggs that power Jexactyl."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"php artisan migrate --seed --force\n")),(0,o.kt)("h2",{id:"add-admin-user"},"Add admin user"),(0,o.kt)("p",null,"To access the Panel for the first time, you'll need to make a user via the CLI - don't worry, you can\ncreate users easily via the frontend! Here's a simple command which will take you through the steps of\nsetting up the initial admin account:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"php artisan p:user:make\n")),(0,o.kt)("h2",{id:"webserver-permissions"},"Webserver Permissions"),(0,o.kt)("p",null,"In order for the webserver you're using to access the Panel files, we'll need to assign it permissions\nwith the ",(0,o.kt)("inlineCode",{parentName:"p"},"chown")," command. Here's how to do this for all types of webservers:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# If using NGINX or Apache (not on CentOS):\nchown -R www-data:www-data /var/www/jexactyl/*\n\n# If using NGINX on CentOS:\nchown -R nginx:nginx /var/www/jexactyl/*\n\n# If using Apache on CentOS:\nchown -R apache:apache /var/www/jexactyl/*\n")))}d.isMDXComponent=!0}}]);